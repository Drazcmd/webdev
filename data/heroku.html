<!DOCTYPE html>
<html>
<head>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
<link rel="stylesheet" type="text/css" class="ui" href="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.0.0/semantic.min.css">
<style>

body {
	padding: 3em;
	margin: auto;
	max-width: 800px;
}

table {
     border: 2pt solid black;
     border-collapse: collapse;
     font-size: 80%;
}

td {
     padding: 1em;
     border: 1pt solid grey;
}
</style>
</head>
<body >

<h2>Getting Started with Heroku</h2>

<p>
For hosting our frontend application we have been using static hosting from surge.
For our backend application 
we will be using <a href="https://www.heroku.com" target="_blank">Heroku</a> because of their free tier
and overall simplicity in usage.
</p>

<p>First you will need to sign up for an account.  We will be using some plugins which
technically may cost money if you exceed the free tier.  Therefore they require a credit card, but so long 
as you stay in the free tier they will not charge you -- I have <em>never</em> been charged.  
After you have an account and are signed in you need to download the Heroku Toolbelt.  
We use Git to talk to Heroku.
</p>

<p>You will need to be logged in to Heroku to proceed: </p>
<pre class="prettyprint lang-bash">
heroku login
</pre>

<h3>Local Setup</h3>

<p>Remember to have node_modules in your .gitignore file for every git repo you use.
You can use my 
<a href="https://github.com/skotep/comp431/blob/master/.gitignore" target=_blank>gitignore</a> as an example.

<p>To deploy to Heroku start by navigating to the directory of your backend application.
In this directory you should be able to start your server, i.e., it's the directory with package.json.</p>
<p>
You will want to come up with a name for your application.  Note that 
later in the course we will create new applications so as to not "stomp" over previous assignments. 
So the name you pick here will not necessarily be the final name of your final social networking app (and we can always change the name later).  <b>In the example below, I have named my application <code>ricebookapp</code>, which should be replaced with your chosen name, or leave blank and Heroku will assign a name for you.</b> 
These names are globally unique, therefore your name may have already been chosen, so pick another or let Heroku give you a name.</p>
<pre class="prettyprint lang-bash">
git init
heroku create ricebookapp
echo web: npm start > Procfile
git add .
git commit -m 'initial commit'
git push heroku master
heroku ps:scale web=1
</pre>
<p>Now your soon to be app is hosted and running on Heroku.  
Navigate to, e.g., <a href="https://ricebookapp.herokuapp.com" target="_blank">https://ricebookapp.herokuapp.com</a> to see it.</p>

<p>What did these steps do?  We started by creating a new git repository.  We then created a new Heroku application that was tied to it.  (The order of these operations matters because if you create the Heroku app first then it will not be attached to the git repo.  If you did this, then to fix it execute <code>heroku git:remote -a ricebookapp</code>)  Next we defined the command that Heroku will execute to start our application (Procfile).  Notice that it executes "npm start" 
Next we add all of our files to the git repo.  
We commit the changes.  
Finally we push to the remote Heroku git master.  Heroku builds our application and spins up the Node server.</p>

<p>For the inclass exercise, submit a file named README.json that has the following
contents (replaced with *your* values of course)</p>
<pre style="border: 1px solid black; padding: 0.5em;">
{ 
     "netid": "sep1",
  "backend": "https://ricebookapp.herokuapp.com"
}
</pre>
<hr>
<hr>

